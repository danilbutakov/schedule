"use strict";(self.webpackChunkschedule=self.webpackChunkschedule||[]).push([[965],{965:function(e,r,n){n.r(r),n.d(r,{FirebaseAuthenticationWeb:function(){return h}});var t=n(762),u=n(165),a=n(861),s=n(671),i=n(144),c=n(136),o=n(388),p=n(653),l=n(137),f=n(773),h=function(e){(0,c.Z)(n,e);var r=(0,o.Z)(n);function n(){var e;return(0,s.Z)(this,n),e=r.call(this),(0,l.v0)().onAuthStateChanged((function(r){return e.handleAuthStateChange(r)})),e}return(0,i.Z)(n,[{key:"applyActionCode",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.abrupt("return",(0,l.iA)(n,r.oobCode));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"createUserWithEmailAndPassword",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.next=3,(0,l.Xb)(n,r.email,r.password);case 3:return t=e.sent,e.abrupt("return",this.createSignInResult(t,null));case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"confirmPasswordReset",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.abrupt("return",(0,l.LG)(n,r.oobCode,r.newPassword));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r,n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.v0)(),n=this.createUserResult(r.currentUser),t={user:n},e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIdToken",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return e.next=5,t.currentUser.getIdToken(null===r||void 0===r?void 0:r.forceRefresh);case 5:return a=e.sent,s={token:a||""},e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"getTenantId",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.v0)(),e.abrupt("return",{tenantId:r.tenantId});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isSignInWithEmailLink",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.abrupt("return",{isSignInWithEmailLink:(0,l.JB)(n,r.emailLink)});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithApple",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.O4(f.F.APPLE),this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.O4.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithEmailAndPassword",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=l.w9.credential(r.email,r.password),e.next=6,(0,l.ZJ)(t.currentUser,a);case 6:return s=e.sent,e.abrupt("return",this.createSignInResult(s,a));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithEmailLink",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=l.w9.credentialWithLink(r.email,r.emailLink),e.next=6,(0,l.ZJ)(t.currentUser,a);case 6:return s=e.sent,e.abrupt("return",this.createSignInResult(s,a));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithFacebook",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l._O,this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l._O.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithGithub",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.GH,this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.GH.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithGoogle",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.hJ,this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.hJ.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithMicrosoft",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.O4(f.F.MICROSOFT),this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.O4.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented on web.");case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithPlayGames",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not available on web.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"linkWithTwitter",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.c4,this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.c4.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"linkWithYahoo",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return a=new l.O4(f.F.YAHOO),this.applySignInOptions(r||{},a),e.next=7,(0,l.k9)(t.currentUser,a);case 7:return s=e.sent,i=l.O4.credentialFromResult(s),e.abrupt("return",this.createSignInResult(s,i));case 10:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,l.v0)(),t=r.currentUser){e.next=4;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 4:return e.abrupt("return",(0,l.w$)(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sendPasswordResetEmail",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.abrupt("return",(0,l.LS)(n,r.email));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"sendSignInLinkToEmail",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.abrupt("return",(0,l.oo)(n,r.email,r.actionCodeSettings));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"setLanguageCode",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.v0)().languageCode=r.languageCode;case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInAnonymously",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.v0)(),e.next=3,(0,l.XB)(r);case 3:return n=e.sent,e.abrupt("return",this.createSignInResult(n,null));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTenantId",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.v0)().tenantId=r.tenantId;case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithApple",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.O4(f.F.APPLE),this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.O4.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithCustomToken",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.next=3,(0,l._p)(n,r.token);case 3:return t=e.sent,e.abrupt("return",this.createSignInResult(t,null));case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.next=3,(0,l.e5)(n,r.email,r.password);case 3:return t=e.sent,e.abrupt("return",this.createSignInResult(t,null));case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithEmailLink",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.v0)(),e.next=3,(0,l.P6)(n,r.email,r.emailLink);case 3:return t=e.sent,e.abrupt("return",this.createSignInResult(t,null));case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithFacebook",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l._O,this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l._O.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithGithub",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.GH,this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.GH.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithGoogle",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.hJ,this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.hJ.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithMicrosoft",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.O4(f.F.MICROSOFT),this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.O4.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithPhoneNumber",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented on web.");case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithPlayGames",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not available on web.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"signInWithTwitter",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.c4,this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.c4.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signInWithYahoo",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.O4(f.F.YAHOO),this.applySignInOptions(r||{},n),t=(0,l.v0)(),e.next=5,(0,l.rh)(t,n);case 5:return a=e.sent,s=l.O4.credentialFromResult(a),e.abrupt("return",this.createSignInResult(a,s));case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.v0)(),e.next=3,r.signOut();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.v0)()).currentUser){e.next=3;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 3:return e.next=5,(0,l.qB)(t.currentUser,r.providerId);case 5:return a=e.sent,s=this.createUserResult(a),i={user:s},e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,l.v0)(),a=t.currentUser){e.next=4;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 4:return e.abrupt("return",(0,l.s)(a,r.newEmail));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"updatePassword",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var t,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,l.v0)(),a=t.currentUser){e.next=4;break}throw new Error(n.ERROR_NO_USER_SIGNED_IN);case 4:return e.abrupt("return",(0,l.gQ)(a,r.newPassword));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"useAppLanguage",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.v0)().useDeviceLanguage();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"useEmulator",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,l.v0)(),t=r.port||9099,(0,l.S$)(n,"".concat(r.host,":").concat(t));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"handleAuthStateChange",value:function(e){var r={user:this.createUserResult(e)};this.notifyListeners("authStateChange",r)}},{key:"applySignInOptions",value:function(e,r){if(e.customParameters){var n={};e.customParameters.map((function(e){n[e.key]=e.value})),r.setCustomParameters(n)}if(e.scopes){var u,a=(0,t.Z)(e.scopes);try{for(a.s();!(u=a.n()).done;){var s=u.value;r.addScope(s)}}catch(i){a.e(i)}finally{a.f()}}}},{key:"createSignInResult",value:function(e,r){return{user:this.createUserResult(e.user),credential:this.createCredentialResult(r),additionalUserInfo:this.createAdditionalUserInfoResult(e)}}},{key:"createCredentialResult",value:function(e){if(!e)return null;var r={providerId:e.providerId};return e instanceof l.jh&&(r.accessToken=e.accessToken,r.idToken=e.idToken,r.secret=e.secret),r}},{key:"createUserResult",value:function(e){return e?{displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,phoneNumber:e.phoneNumber,photoUrl:e.photoURL,providerId:e.providerId,tenantId:e.tenantId,uid:e.uid}:null}},{key:"createAdditionalUserInfoResult",value:function(e){var r=(0,l.gK)(e);if(!r)return null;var n=r.isNewUser,t=r.profile,u=r.providerId,a=r.username,s={isNewUser:n};return null!==u&&(s.providerId=u),null!==t&&(s.profile=t),null!==a&&void 0!==a&&(s.username=a),s}}]),n}(p.Uw);h.ERROR_NO_USER_SIGNED_IN="No user is signed in."}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL2pzLzk2NS4yYjZiNTFkZi5jaHVuay5qcyIsIm1hcHBpbmdzIjoicVFBMkVhQSxFQUNYLDBDQUtBLG1CQUdvRSxPQUhwRSxlQUNFLGdCQUNhQyxFQUFBQSxFQUFBQSxNQUNSQyxvQkFBbUIsU0FBQUMsR0FBSSxPQUFJLEVBQUtDLHNCQUFzQkQsRUFBSyxJQUFFLENBQ3BFLENBd2dCQyxPQXhnQkEsZ0ZBRU0sV0FBc0JFLEdBQStCLDRFQUNwQyxPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxtQkFDZk0sRUFBQUEsRUFBQUEsSUFBZ0JELEVBQU1ELEVBQVFHLFVBQVEsMkNBQzlDLG1EQUxBLElBS0EscUZBRU0sV0FDTEgsR0FBOEMsOEVBRXhCLE9BQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09RLEVBQUFBLEVBQUFBLElBQzNCSCxFQUNBRCxFQUFRSyxNQUNSTCxFQUFRTSxVQUNULE9BSm1CLE9BQWRDLEVBQWlCLEVBQUgsdUJBS2JDLEtBQUtDLG1CQUFtQkYsRUFBZ0IsT0FBSyxnREFDckQsbURBWkEsSUFZQSwyRUFFTSxXQUNMUCxHQUFvQyw0RUFFZCxPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxtQkFDZmMsRUFBQUEsRUFBQUEsSUFBcUJULEVBQU1ELEVBQVFHLFFBQVNILEVBQVFXLGNBQVksMkNBQ3hFLG1EQVBBLElBT0EscUVBRU0sNkZBS0osT0FKS1YsR0FBT0wsRUFBQUEsRUFBQUEsTUFDUGdCLEVBQWFKLEtBQUtLLGlCQUFpQlosRUFBS2EsYUFDeENDLEVBQStCLENBQ25DakIsS0FBTWMsR0FDUCxrQkFDTUcsR0FBTSxnREFDZCxrREFUQSxJQVNBLGlFQUVNLFdBQ0xmLEdBQTJCLGdGQUVMLElBQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxPQUNIa0IsWUFBYSxDQUFGLHFCQUNiLElBQUlFLE1BQU1yQixFQUEwQnNCLHlCQUF3Qix1QkFFOUNoQixFQUFLYSxZQUFZSSxXQUFrQixPQUFQbEIsUUFBTyxJQUFQQSxPQUFPLEVBQVBBLEVBQVNtQixjQUFhLE9BR3ZFLE9BSEtDLEVBQVUsRUFBSCxLQUNQTCxFQUEyQixDQUMvQk0sTUFBT0QsR0FBVyxJQUNuQixrQkFDTUwsR0FBTSwyQ0FDZCxtREFkQSxJQWNBLGtFQUVNLHlGQUNpQixPQUFoQmQsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxrQkFDZixDQUNMMEIsU0FBVXJCLEVBQUtxQixXQUNoQiwyQ0FDRixrREFQQSxJQU9BLDRFQUVNLFdBQ0x0QixHQUFxQyw0RUFFZixPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxrQkFDZixDQUNMMkIsdUJBQXVCQSxFQUFBQSxFQUFBQSxJQUFzQnRCLEVBQU1ELEVBQVF3QixhQUM1RCwyQ0FDRixtREFUQSxJQVNBLG9FQUVNLFdBQ0x4QixHQUE4QixrRkFFUixJQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsT0FDSGtCLFlBQWEsQ0FBRixxQkFDYixJQUFJRSxNQUFNckIsRUFBMEJzQix5QkFBd0IsT0FHbkIsT0FEM0NRLEVBQVcsSUFBSUMsRUFBQUEsR0FBY0MsRUFBQUEsRUFBQUEsT0FDbkNuQixLQUFLb0IsbUJBQW1CNUIsR0FBVyxDQUFDLEVBQUd5QixHQUFVLFVBQ3BCSSxFQUFBQSxFQUFBQSxJQUFjNUIsRUFBS2EsWUFBYVcsR0FBUyxPQUNHLE9BRG5FbEIsRUFBaUIsRUFBSCxLQUNkdUIsRUFBaUJKLEVBQUFBLEdBQUFBLHFCQUFtQ25CLEdBQWUsa0JBQ2xFQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxpREFDL0QsbURBZEEsSUFjQSwrRUFFTSxXQUNMOUIsR0FBd0MsZ0ZBRWxCLElBQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxPQUNIa0IsWUFBYSxDQUFGLHFCQUNiLElBQUlFLE1BQU1yQixFQUEwQnNCLHlCQUF3QixPQUtuRSxPQUhLYSxFQUFpQkMsRUFBQUEsR0FBQUEsV0FDckIvQixFQUFRSyxNQUNSTCxFQUFRTSxVQUNULFVBQzRCMEIsRUFBQUEsRUFBQUEsSUFDM0IvQixFQUFLYSxZQUNMZ0IsR0FDRCxPQUhtQixPQUFkdkIsRUFBaUIsRUFBSCx1QkFJYkMsS0FBS0MsbUJBQW1CRixFQUFnQnVCLElBQWUsZ0RBQy9ELG1EQWxCQSxJQWtCQSx3RUFFTSxXQUNMOUIsR0FBaUMsZ0ZBRVgsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BS25FLE9BSEthLEVBQWlCQyxFQUFBQSxHQUFBQSxtQkFDckIvQixFQUFRSyxNQUNSTCxFQUFRd0IsV0FDVCxVQUM0QlEsRUFBQUEsRUFBQUEsSUFDM0IvQixFQUFLYSxZQUNMZ0IsR0FDRCxPQUhtQixPQUFkdkIsRUFBaUIsRUFBSCx1QkFJYkMsS0FBS0MsbUJBQW1CRixFQUFnQnVCLElBQWUsZ0RBQy9ELG1EQWxCQSxJQWtCQSx1RUFFTSxXQUNMOUIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlRLEVBQUFBLEdBQ3JCekIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FFWCxPQUZyRGxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQ0pHLEVBQUFBLEdBQUFBLHFCQUEwQzFCLEdBQWUsa0JBQ3BEQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxpREFDL0QsbURBZkEsSUFlQSxxRUFFTSxXQUNMOUIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlTLEVBQUFBLEdBQ3JCMUIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FFYixPQUZuRGxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQ0pJLEVBQUFBLEdBQUFBLHFCQUF3QzNCLEdBQWUsa0JBQ2xEQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxpREFDL0QsbURBZkEsSUFlQSxxRUFFTSxXQUNMOUIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlVLEVBQUFBLEdBQ3JCM0IsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FFYixPQUZuRGxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQ0pLLEVBQUFBLEdBQUFBLHFCQUF3QzVCLEdBQWUsa0JBQ2xEQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxpREFDL0QsbURBZkEsSUFlQSx3RUFFTSxXQUNMOUIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlDLEVBQUFBLEdBQWNDLEVBQUFBLEVBQUFBLFdBQ25DbkIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FDRyxPQURuRWxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQWlCSixFQUFBQSxHQUFBQSxxQkFBbUNuQixHQUFlLGtCQUNsRUMsS0FBS0MsbUJBQW1CRixFQUFnQnVCLElBQWUsaURBQy9ELG1EQWRBLElBY0EsMEVBRU0sV0FDTE0sR0FBb0MsNEVBRTlCLElBQUlwQixNQUFNLDJCQUEwQiwyQ0FDM0MsbURBTkEsSUFNQSx3RUFFTSx5RkFDQyxJQUFJQSxNQUFNLHlCQUF3QiwyQ0FDekMsa0RBSkEsSUFJQSxzRUFFTSxXQUNMaEIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlZLEVBQUFBLEdBQ3JCN0IsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FFWixPQUZwRGxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQ0pPLEVBQUFBLEdBQUFBLHFCQUF5QzlCLEdBQWUsa0JBQ25EQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxpREFDL0QsbURBZkEsSUFlQSxvRUFFTSxXQUNMOUIsR0FBOEIsa0ZBRVIsSUFBaEJDLEdBQU9MLEVBQUFBLEVBQUFBLE9BQ0hrQixZQUFhLENBQUYscUJBQ2IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLE9BR25CLE9BRDNDUSxFQUFXLElBQUlDLEVBQUFBLEdBQWNDLEVBQUFBLEVBQUFBLE9BQ25DbkIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FBVSxVQUNwQkksRUFBQUEsRUFBQUEsSUFBYzVCLEVBQUthLFlBQWFXLEdBQVMsT0FDRyxPQURuRWxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQWlCSixFQUFBQSxHQUFBQSxxQkFBbUNuQixHQUFlLGtCQUNsRUMsS0FBS0MsbUJBQW1CRixFQUFnQnVCLElBQWUsaURBQy9ELG1EQWRBLElBY0EsNEVBRU0sMkZBRStCLEdBRDlCN0IsR0FBT0wsRUFBQUEsRUFBQUEsTUFDUGtCLEVBQWNiLEVBQUthLFlBQ1AsQ0FBRixxQkFDUixJQUFJRSxNQUFNckIsRUFBMEJzQix5QkFBd0IsaUNBRTdEcUIsRUFBQUEsRUFBQUEsSUFBc0J4QixJQUFZLDJDQUMxQyxrREFUQSxJQVNBLDZFQUVNLFdBQ0xkLEdBQXNDLDRFQUVoQixPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxtQkFDZjJDLEVBQUFBLEVBQUFBLElBQXVCdEMsRUFBTUQsRUFBUUssUUFBTSwyQ0FDbkQsbURBUEEsSUFPQSw0RUFFTSxXQUNMTCxHQUFxQyw0RUFFZixPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxtQkFDZjRDLEVBQUFBLEVBQUFBLElBQ0x2QyxFQUNBRCxFQUFRSyxNQUNSTCxFQUFReUMscUJBQ1QsMkNBQ0YsbURBWEEsSUFXQSxzRUFFTSxXQUFzQnpDLEdBQStCLHVFQUM3Q0osRUFBQUEsRUFBQUEsTUFDUjhDLGFBQWUxQyxFQUFRMEMsYUFBYSwyQ0FDMUMsbURBTEEsSUFLQSx3RUFFTSwyRkFDaUIsT0FBaEJ6QyxHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ08rQyxFQUFBQSxFQUFBQSxJQUFrQjFDLEdBQUssT0FBaEMsT0FBZE0sRUFBaUIsRUFBSCx1QkFDYkMsS0FBS0MsbUJBQW1CRixFQUFnQixPQUFLLGdEQUNyRCxrREFOQSxJQU1BLGtFQUVNLFdBQWtCUCxHQUEyQix1RUFDckNKLEVBQUFBLEVBQUFBLE1BQ1IwQixTQUFXdEIsRUFBUXNCLFNBQVMsMkNBQ2xDLG1EQUxBLElBS0Esc0VBRU0sV0FBc0J0QixHQUF1QixrRkFHNUIsT0FGaEJ5QixFQUFXLElBQUlDLEVBQUFBLEdBQWNDLEVBQUFBLEVBQUFBLE9BQ25DbkIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FDakN4QixHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09nRCxFQUFBQSxFQUFBQSxJQUFnQjNDLEVBQU13QixHQUFTLE9BQ2EsT0FEbkVsQixFQUFpQixFQUFILEtBQ2R1QixFQUFpQkosRUFBQUEsR0FBQUEscUJBQW1DbkIsR0FBZSxrQkFDbEVDLEtBQUtDLG1CQUFtQkYsRUFBZ0J1QixJQUFlLGdEQUMvRCxtREFUQSxJQVNBLDRFQUVNLFdBQ0w5QixHQUFxQyw4RUFFZixPQUFoQkMsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxVQUNPaUQsRUFBQUEsRUFBQUEsSUFBc0I1QyxFQUFNRCxFQUFRcUIsT0FBTSxPQUFuRCxPQUFkZCxFQUFpQixFQUFILHVCQUNiQyxLQUFLQyxtQkFBbUJGLEVBQWdCLE9BQUssZ0RBQ3JELG1EQVJBLElBUUEsaUZBRU0sV0FDTFAsR0FBMEMsOEVBRXBCLE9BQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09rRCxFQUFBQSxFQUFBQSxJQUMzQjdDLEVBQ0FELEVBQVFLLE1BQ1JMLEVBQVFNLFVBQ1QsT0FKbUIsT0FBZEMsRUFBaUIsRUFBSCx1QkFLYkMsS0FBS0MsbUJBQW1CRixFQUFnQixPQUFLLGdEQUNyRCxtREFaQSxJQVlBLDBFQUVNLFdBQ0xQLEdBQW1DLDhFQUViLE9BQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09tRCxFQUFBQSxFQUFBQSxJQUMzQjlDLEVBQ0FELEVBQVFLLE1BQ1JMLEVBQVF3QixXQUNULE9BSm1CLE9BQWRqQixFQUFpQixFQUFILHVCQUtiQyxLQUFLQyxtQkFBbUJGLEVBQWdCLE9BQUssZ0RBQ3JELG1EQVpBLElBWUEseUVBRU0sV0FDTFAsR0FBdUIsa0ZBSUQsT0FGaEJ5QixFQUFXLElBQUlRLEVBQUFBLEdBQ3JCekIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FDakN4QixHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09nRCxFQUFBQSxFQUFBQSxJQUFnQjNDLEVBQU13QixHQUFTLE9BRUQsT0FGckRsQixFQUFpQixFQUFILEtBQ2R1QixFQUNKRyxFQUFBQSxHQUFBQSxxQkFBMEMxQixHQUFlLGtCQUNwREMsS0FBS0MsbUJBQW1CRixFQUFnQnVCLElBQWUsZ0RBQy9ELG1EQVpBLElBWUEsdUVBRU0sV0FDTDlCLEdBQXVCLGtGQUlELE9BRmhCeUIsRUFBVyxJQUFJUyxFQUFBQSxHQUNyQjFCLEtBQUtvQixtQkFBbUI1QixHQUFXLENBQUMsRUFBR3lCLEdBQ2pDeEIsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxVQUNPZ0QsRUFBQUEsRUFBQUEsSUFBZ0IzQyxFQUFNd0IsR0FBUyxPQUVILE9BRm5EbEIsRUFBaUIsRUFBSCxLQUNkdUIsRUFDSkksRUFBQUEsR0FBQUEscUJBQXdDM0IsR0FBZSxrQkFDbERDLEtBQUtDLG1CQUFtQkYsRUFBZ0J1QixJQUFlLGdEQUMvRCxtREFaQSxJQVlBLHVFQUVNLFdBQ0w5QixHQUF1QixrRkFJRCxPQUZoQnlCLEVBQVcsSUFBSVUsRUFBQUEsR0FDckIzQixLQUFLb0IsbUJBQW1CNUIsR0FBVyxDQUFDLEVBQUd5QixHQUNqQ3hCLEdBQU9MLEVBQUFBLEVBQUFBLE1BQVMsVUFDT2dELEVBQUFBLEVBQUFBLElBQWdCM0MsRUFBTXdCLEdBQVMsT0FFSCxPQUZuRGxCLEVBQWlCLEVBQUgsS0FDZHVCLEVBQ0pLLEVBQUFBLEdBQUFBLHFCQUF3QzVCLEdBQWUsa0JBQ2xEQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxnREFDL0QsbURBWkEsSUFZQSwwRUFFTSxXQUNMOUIsR0FBdUIsa0ZBSUQsT0FGaEJ5QixFQUFXLElBQUlDLEVBQUFBLEdBQWNDLEVBQUFBLEVBQUFBLFdBQ25DbkIsS0FBS29CLG1CQUFtQjVCLEdBQVcsQ0FBQyxFQUFHeUIsR0FDakN4QixHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFVBQ09nRCxFQUFBQSxFQUFBQSxJQUFnQjNDLEVBQU13QixHQUFTLE9BQ2EsT0FEbkVsQixFQUFpQixFQUFILEtBQ2R1QixFQUFpQkosRUFBQUEsR0FBQUEscUJBQW1DbkIsR0FBZSxrQkFDbEVDLEtBQUtDLG1CQUFtQkYsRUFBZ0J1QixJQUFlLGdEQUMvRCxtREFYQSxJQVdBLDRFQUVNLFdBQ0xNLEdBQXNDLDRFQUVoQyxJQUFJcEIsTUFBTSwyQkFBMEIsMkNBQzNDLG1EQU5BLElBTUEsMEVBRU0seUZBQ0MsSUFBSUEsTUFBTSx5QkFBd0IsMkNBQ3pDLGtEQUpBLElBSUEsd0VBRU0sV0FDTGhCLEdBQXVCLGtGQUlELE9BRmhCeUIsRUFBVyxJQUFJWSxFQUFBQSxHQUNyQjdCLEtBQUtvQixtQkFBbUI1QixHQUFXLENBQUMsRUFBR3lCLEdBQ2pDeEIsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxVQUNPZ0QsRUFBQUEsRUFBQUEsSUFBZ0IzQyxFQUFNd0IsR0FBUyxPQUVGLE9BRnBEbEIsRUFBaUIsRUFBSCxLQUNkdUIsRUFDSk8sRUFBQUEsR0FBQUEscUJBQXlDOUIsR0FBZSxrQkFDbkRDLEtBQUtDLG1CQUFtQkYsRUFBZ0J1QixJQUFlLGdEQUMvRCxtREFaQSxJQVlBLHNFQUVNLFdBQXNCOUIsR0FBdUIsa0ZBRzVCLE9BRmhCeUIsRUFBVyxJQUFJQyxFQUFBQSxHQUFjQyxFQUFBQSxFQUFBQSxPQUNuQ25CLEtBQUtvQixtQkFBbUI1QixHQUFXLENBQUMsRUFBR3lCLEdBQ2pDeEIsR0FBT0wsRUFBQUEsRUFBQUEsTUFBUyxVQUNPZ0QsRUFBQUEsRUFBQUEsSUFBZ0IzQyxFQUFNd0IsR0FBUyxPQUNhLE9BRG5FbEIsRUFBaUIsRUFBSCxLQUNkdUIsRUFBaUJKLEVBQUFBLEdBQUFBLHFCQUFtQ25CLEdBQWUsa0JBQ2xFQyxLQUFLQyxtQkFBbUJGLEVBQWdCdUIsSUFBZSxnREFDL0QsbURBVEEsSUFTQSw4REFFTSx5RkFDaUIsT0FBaEI3QixHQUFPTCxFQUFBQSxFQUFBQSxNQUFTLFNBQ2hCSyxFQUFLK0MsVUFBUywyQ0FDckIsa0RBTEEsSUFLQSw2REFFTSxXQUFhaEQsR0FBc0Isa0ZBQ2xCLElBQWhCQyxHQUFPTCxFQUFBQSxFQUFBQSxPQUNIa0IsWUFBYSxDQUFGLHFCQUNiLElBQUlFLE1BQU1yQixFQUEwQnNCLHlCQUF3Qix3QkFFakRnQyxFQUFBQSxFQUFBQSxJQUFPaEQsRUFBS2EsWUFBYWQsRUFBUWtELFlBQVcsT0FJOUQsT0FKS3BELEVBQU8sRUFBSCxLQUNKYyxFQUFhSixLQUFLSyxpQkFBaUJmLEdBQ25DaUIsRUFBdUIsQ0FDM0JqQixLQUFNYyxHQUNQLGtCQUNNRyxHQUFNLGdEQUNkLG1EQWJBLElBYUEsa0VBRU0sV0FBa0JmLEdBQTJCLDhFQUVkLEdBRDlCQyxHQUFPTCxFQUFBQSxFQUFBQSxNQUNQa0IsRUFBY2IsRUFBS2EsWUFDUCxDQUFGLHFCQUNSLElBQUlFLE1BQU1yQixFQUEwQnNCLHlCQUF3QixpQ0FFN0RrQyxFQUFBQSxFQUFBQSxHQUFZckMsRUFBYWQsRUFBUW9ELFdBQVMsMkNBQ2xELG1EQVRBLElBU0EscUVBRU0sV0FBcUJwRCxHQUE4Qiw4RUFFcEIsR0FEOUJDLEdBQU9MLEVBQUFBLEVBQUFBLE1BQ1BrQixFQUFjYixFQUFLYSxZQUNQLENBQUYscUJBQ1IsSUFBSUUsTUFBTXJCLEVBQTBCc0IseUJBQXdCLGlDQUU3RG9DLEVBQUFBLEVBQUFBLElBQWV2QyxFQUFhZCxFQUFRVyxjQUFZLDJDQUN4RCxtREFUQSxJQVNBLHFFQUVNLG9GQUNRZixFQUFBQSxFQUFBQSxNQUNSMEQsb0JBQW9CLDJDQUMxQixrREFMQSxJQUtBLGtFQUVNLFdBQWtCdEQsR0FBMkIsOEVBQzVDQyxHQUFPTCxFQUFBQSxFQUFBQSxNQUNQMkQsRUFBT3ZELEVBQVF1RCxNQUFRLE1BQzdCQyxFQUFBQSxFQUFBQSxJQUFvQnZELEVBQU0sR0FBRixPQUFLRCxFQUFReUQsS0FBSSxZQUFJRixJQUFRLDJDQUN0RCxtREFOQSxJQU1BLG1DQUVPLFNBQXNCekQsR0FDNUIsSUFDTTRELEVBQTBCLENBQzlCNUQsS0FGaUJVLEtBQUtLLGlCQUFpQmYsSUFJekNVLEtBQUttRCxnQkFBZ0Isa0JBQW1CRCxFQUMxQyxHQUFDLGdDQUVPLFNBQ04xRCxFQUNBeUIsR0FFQSxHQUFJekIsRUFBUTRELGlCQUFrQixDQUM1QixJQUFNQSxFQUFxQyxDQUFDLEVBQzVDNUQsRUFBUTRELGlCQUFpQkMsS0FBSSxTQUFBQyxHQUMzQkYsRUFBaUJFLEVBQVVDLEtBQU9ELEVBQVVFLEtBQzlDLElBQ0F2QyxFQUFTd0Msb0JBQW9CTCxFLENBRS9CLEdBQUk1RCxFQUFRa0UsT0FBUSxLQUNnQixFQURoQixVQUNFbEUsRUFBUWtFLFFBQU0sSUFBbEMsSUFBSyxFQUFMLHFCQUFvQyxLQUF6QkMsRUFBSyxRQUNkMUMsRUFBUzJDLFNBQVNELEUsQ0FDbkIsK0IsQ0FFTCxHQUFDLGdDQUVPLFNBQ041RCxFQUNBdUIsR0FXQSxNQUw2QixDQUMzQmhDLEtBTGlCVSxLQUFLSyxpQkFBaUJOLEVBQWVULE1BTXREdUUsV0FMdUI3RCxLQUFLOEQsdUJBQXVCeEMsR0FNbkR5QyxtQkFKQS9ELEtBQUtnRSwrQkFBK0JqRSxHQU94QyxHQUFDLG9DQUVPLFNBQ044RCxHQUVBLElBQUtBLEVBQ0gsT0FBTyxLQUVULElBQU10RCxFQUF5QixDQUM3Qm1DLFdBQVltQixFQUFXbkIsWUFPekIsT0FMSW1CLGFBQXNCSSxFQUFBQSxLQUN4QjFELEVBQU8yRCxZQUFjTCxFQUFXSyxZQUNoQzNELEVBQU9LLFFBQVVpRCxFQUFXakQsUUFDNUJMLEVBQU80RCxPQUFTTixFQUFXTSxRQUV0QjVELENBQ1QsR0FBQyw4QkFFTyxTQUFpQmpCLEdBQ3ZCLE9BQUtBLEVBR2dCLENBQ25COEUsWUFBYTlFLEVBQUs4RSxZQUNsQnZFLE1BQU9QLEVBQUtPLE1BQ1p3RSxjQUFlL0UsRUFBSytFLGNBQ3BCQyxZQUFhaEYsRUFBS2dGLFlBQ2xCQyxZQUFhakYsRUFBS2lGLFlBQ2xCQyxTQUFVbEYsRUFBS21GLFNBQ2YvQixXQUFZcEQsRUFBS29ELFdBQ2pCNUIsU0FBVXhCLEVBQUt3QixTQUNmNEQsSUFBS3BGLEVBQUtvRixLQVhILElBY1gsR0FBQyw0Q0FFTyxTQUNOYixHQUVBLElBQU1FLEdBQXFCWSxFQUFBQSxFQUFBQSxJQUFzQmQsR0FDakQsSUFBS0UsRUFDSCxPQUFPLEtBRVQsSUFBUWEsRUFBNkNiLEVBQTdDYSxVQUFXQyxFQUFrQ2QsRUFBbENjLFFBQVNuQyxFQUF5QnFCLEVBQXpCckIsV0FBWW9DLEVBQWFmLEVBQWJlLFNBQ2xDdkUsRUFBNkIsQ0FDakNxRSxVQUFBQSxHQVdGLE9BVG1CLE9BQWZsQyxJQUNGbkMsRUFBT21DLFdBQWFBLEdBRU4sT0FBWm1DLElBQ0Z0RSxFQUFPc0UsUUFBVUEsR0FFRixPQUFiQyxRQUFrQ0MsSUFBYkQsSUFDdkJ2RSxFQUFPdUUsU0FBV0EsR0FFYnZFLENBQ1QsS0FBQyxFQWpoQkQsQ0FBUXlFLEVBQUFBLElBR2U3RixFQUFBQSx3QkFBMEIsdUIiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yLWZpcmViYXNlL2F1dGhlbnRpY2F0aW9uL3NyYy93ZWIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2ViUGx1Z2luIH0gZnJvbSAnQGNhcGFjaXRvci9jb3JlJztcbmltcG9ydCB0eXBlIHtcbiAgQXV0aENyZWRlbnRpYWwgYXMgRmlyZWJhc2VBdXRoQ3JlZGVudGlhbCxcbiAgQ3VzdG9tUGFyYW1ldGVycyxcbiAgVXNlciBhcyBGaXJlYmFzZVVzZXIsXG4gIFVzZXJDcmVkZW50aWFsIGFzIEZpcmViYXNlVXNlckNyZWRlbnRpYWwsXG59IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuaW1wb3J0IHtcbiAgYXBwbHlBY3Rpb25Db2RlLFxuICBjb25maXJtUGFzc3dvcmRSZXNldCxcbiAgY29ubmVjdEF1dGhFbXVsYXRvcixcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBFbWFpbEF1dGhQcm92aWRlcixcbiAgRmFjZWJvb2tBdXRoUHJvdmlkZXIsXG4gIGdldEFkZGl0aW9uYWxVc2VySW5mbyxcbiAgZ2V0QXV0aCxcbiAgR2l0aHViQXV0aFByb3ZpZGVyLFxuICBHb29nbGVBdXRoUHJvdmlkZXIsXG4gIGlzU2lnbkluV2l0aEVtYWlsTGluayxcbiAgbGlua1dpdGhDcmVkZW50aWFsLFxuICBsaW5rV2l0aFBvcHVwLFxuICBPQXV0aENyZWRlbnRpYWwsXG4gIE9BdXRoUHJvdmlkZXIsXG4gIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCxcbiAgc2VuZFNpZ25JbkxpbmtUb0VtYWlsLFxuICBzaWduSW5Bbm9ueW1vdXNseSxcbiAgc2lnbkluV2l0aEN1c3RvbVRva2VuLFxuICBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCxcbiAgc2lnbkluV2l0aEVtYWlsTGluayxcbiAgc2lnbkluV2l0aFBvcHVwLFxuICBUd2l0dGVyQXV0aFByb3ZpZGVyLFxuICB1bmxpbmssXG4gIHVwZGF0ZUVtYWlsLFxuICB1cGRhdGVQYXNzd29yZCxcbn0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5cbmltcG9ydCB0eXBlIHtcbiAgQWRkaXRpb25hbFVzZXJJbmZvLFxuICBBcHBseUFjdGlvbkNvZGVPcHRpb25zLFxuICBBdXRoQ3JlZGVudGlhbCxcbiAgQXV0aFN0YXRlQ2hhbmdlLFxuICBDb25maXJtUGFzc3dvcmRSZXNldE9wdGlvbnMsXG4gIENyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZE9wdGlvbnMsXG4gIEZpcmViYXNlQXV0aGVudGljYXRpb25QbHVnaW4sXG4gIEdldEN1cnJlbnRVc2VyUmVzdWx0LFxuICBHZXRJZFRva2VuT3B0aW9ucyxcbiAgR2V0SWRUb2tlblJlc3VsdCxcbiAgR2V0VGVuYW50SWRSZXN1bHQsXG4gIElzU2lnbkluV2l0aEVtYWlsTGlua09wdGlvbnMsXG4gIElzU2lnbkluV2l0aEVtYWlsTGlua1Jlc3VsdCxcbiAgTGlua1Jlc3VsdCxcbiAgTGlua1dpdGhFbWFpbEFuZFBhc3N3b3JkT3B0aW9ucyxcbiAgTGlua1dpdGhFbWFpbExpbmtPcHRpb25zLFxuICBMaW5rV2l0aE9BdXRoT3B0aW9ucyxcbiAgTGlua1dpdGhQaG9uZU51bWJlck9wdGlvbnMsXG4gIFNlbmRQYXNzd29yZFJlc2V0RW1haWxPcHRpb25zLFxuICBTZW5kU2lnbkluTGlua1RvRW1haWxPcHRpb25zLFxuICBTZXRMYW5ndWFnZUNvZGVPcHRpb25zLFxuICBTZXRUZW5hbnRJZE9wdGlvbnMsXG4gIFNpZ25Jbk9wdGlvbnMsXG4gIFNpZ25JblJlc3VsdCxcbiAgU2lnbkluV2l0aEN1c3RvbVRva2VuT3B0aW9ucyxcbiAgU2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmRPcHRpb25zLFxuICBTaWduSW5XaXRoRW1haWxMaW5rT3B0aW9ucyxcbiAgU2lnbkluV2l0aFBob25lTnVtYmVyT3B0aW9ucyxcbiAgVW5saW5rT3B0aW9ucyxcbiAgVW5saW5rUmVzdWx0LFxuICBVcGRhdGVFbWFpbE9wdGlvbnMsXG4gIFVwZGF0ZVBhc3N3b3JkT3B0aW9ucyxcbiAgVXNlRW11bGF0b3JPcHRpb25zLFxuICBVc2VyLFxufSBmcm9tICcuL2RlZmluaXRpb25zJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuL2RlZmluaXRpb25zJztcblxuZXhwb3J0IGNsYXNzIEZpcmViYXNlQXV0aGVudGljYXRpb25XZWJcbiAgZXh0ZW5kcyBXZWJQbHVnaW5cbiAgaW1wbGVtZW50cyBGaXJlYmFzZUF1dGhlbnRpY2F0aW9uUGx1Z2luXG57XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRVJST1JfTk9fVVNFUl9TSUdORURfSU4gPSAnTm8gdXNlciBpcyBzaWduZWQgaW4uJztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQodXNlciA9PiB0aGlzLmhhbmRsZUF1dGhTdGF0ZUNoYW5nZSh1c2VyKSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgYXBwbHlBY3Rpb25Db2RlKG9wdGlvbnM6IEFwcGx5QWN0aW9uQ29kZU9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIHJldHVybiBhcHBseUFjdGlvbkNvZGUoYXV0aCwgb3B0aW9ucy5vb2JDb2RlKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gICAgb3B0aW9uczogQ3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTaWduSW5SZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKFxuICAgICAgYXV0aCxcbiAgICAgIG9wdGlvbnMuZW1haWwsXG4gICAgICBvcHRpb25zLnBhc3N3b3JkLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb25maXJtUGFzc3dvcmRSZXNldChcbiAgICBvcHRpb25zOiBDb25maXJtUGFzc3dvcmRSZXNldE9wdGlvbnMsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgcmV0dXJuIGNvbmZpcm1QYXNzd29yZFJlc2V0KGF1dGgsIG9wdGlvbnMub29iQ29kZSwgb3B0aW9ucy5uZXdQYXNzd29yZCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0Q3VycmVudFVzZXIoKTogUHJvbWlzZTxHZXRDdXJyZW50VXNlclJlc3VsdD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgdXNlclJlc3VsdCA9IHRoaXMuY3JlYXRlVXNlclJlc3VsdChhdXRoLmN1cnJlbnRVc2VyKTtcbiAgICBjb25zdCByZXN1bHQ6IEdldEN1cnJlbnRVc2VyUmVzdWx0ID0ge1xuICAgICAgdXNlcjogdXNlclJlc3VsdCxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0SWRUb2tlbihcbiAgICBvcHRpb25zPzogR2V0SWRUb2tlbk9wdGlvbnMsXG4gICk6IFByb21pc2U8R2V0SWRUb2tlblJlc3VsdD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgaWYgKCFhdXRoLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRmlyZWJhc2VBdXRoZW50aWNhdGlvbldlYi5FUlJPUl9OT19VU0VSX1NJR05FRF9JTik7XG4gICAgfVxuICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCBhdXRoLmN1cnJlbnRVc2VyLmdldElkVG9rZW4ob3B0aW9ucz8uZm9yY2VSZWZyZXNoKTtcbiAgICBjb25zdCByZXN1bHQ6IEdldElkVG9rZW5SZXN1bHQgPSB7XG4gICAgICB0b2tlbjogaWRUb2tlbiB8fCAnJyxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0VGVuYW50SWQoKTogUHJvbWlzZTxHZXRUZW5hbnRJZFJlc3VsdD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbmFudElkOiBhdXRoLnRlbmFudElkLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaXNTaWduSW5XaXRoRW1haWxMaW5rKFxuICAgIG9wdGlvbnM6IElzU2lnbkluV2l0aEVtYWlsTGlua09wdGlvbnMsXG4gICk6IFByb21pc2U8SXNTaWduSW5XaXRoRW1haWxMaW5rUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTaWduSW5XaXRoRW1haWxMaW5rOiBpc1NpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgb3B0aW9ucy5lbWFpbExpbmspLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgbGlua1dpdGhBcHBsZShcbiAgICBvcHRpb25zPzogTGlua1dpdGhPQXV0aE9wdGlvbnMsXG4gICk6IFByb21pc2U8TGlua1Jlc3VsdD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgaWYgKCFhdXRoLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRmlyZWJhc2VBdXRoZW50aWNhdGlvbldlYi5FUlJPUl9OT19VU0VSX1NJR05FRF9JTik7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoUHJvdmlkZXJJZC5BUFBMRSk7XG4gICAgdGhpcy5hcHBseVNpZ25Jbk9wdGlvbnMob3B0aW9ucyB8fCB7fSwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgbGlua1dpdGhQb3B1cChhdXRoLmN1cnJlbnRVc2VyLCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPSBPQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIGF1dGhDcmVkZW50aWFsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBsaW5rV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gICAgb3B0aW9uczogTGlua1dpdGhFbWFpbEFuZFBhc3N3b3JkT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxMaW5rUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPSBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsKFxuICAgICAgb3B0aW9ucy5lbWFpbCxcbiAgICAgIG9wdGlvbnMucGFzc3dvcmQsXG4gICAgKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoQ3JlZGVudGlhbChcbiAgICAgIGF1dGguY3VycmVudFVzZXIsXG4gICAgICBhdXRoQ3JlZGVudGlhbCxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpbmtXaXRoRW1haWxMaW5rKFxuICAgIG9wdGlvbnM6IExpbmtXaXRoRW1haWxMaW5rT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxMaW5rUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPSBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsV2l0aExpbmsoXG4gICAgICBvcHRpb25zLmVtYWlsLFxuICAgICAgb3B0aW9ucy5lbWFpbExpbmssXG4gICAgKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoQ3JlZGVudGlhbChcbiAgICAgIGF1dGguY3VycmVudFVzZXIsXG4gICAgICBhdXRoQ3JlZGVudGlhbCxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpbmtXaXRoRmFjZWJvb2soXG4gICAgb3B0aW9ucz86IExpbmtXaXRoT0F1dGhPcHRpb25zLFxuICApOiBQcm9taXNlPExpbmtSZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGlmICghYXV0aC5jdXJyZW50VXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKEZpcmViYXNlQXV0aGVudGljYXRpb25XZWIuRVJST1JfTk9fVVNFUl9TSUdORURfSU4pO1xuICAgIH1cbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoUG9wdXAoYXV0aC5jdXJyZW50VXNlciwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID1cbiAgICAgIEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIGF1dGhDcmVkZW50aWFsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBsaW5rV2l0aEdpdGh1YihcbiAgICBvcHRpb25zPzogTGlua1dpdGhPQXV0aE9wdGlvbnMsXG4gICk6IFByb21pc2U8TGlua1Jlc3VsdD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgaWYgKCFhdXRoLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRmlyZWJhc2VBdXRoZW50aWNhdGlvbldlYi5FUlJPUl9OT19VU0VSX1NJR05FRF9JTik7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdpdGh1YkF1dGhQcm92aWRlcigpO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoUG9wdXAoYXV0aC5jdXJyZW50VXNlciwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID1cbiAgICAgIEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBhdXRoQ3JlZGVudGlhbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgbGlua1dpdGhHb29nbGUoXG4gICAgb3B0aW9ucz86IExpbmtXaXRoT0F1dGhPcHRpb25zLFxuICApOiBQcm9taXNlPExpbmtSZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGlmICghYXV0aC5jdXJyZW50VXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKEZpcmViYXNlQXV0aGVudGljYXRpb25XZWIuRVJST1JfTk9fVVNFUl9TSUdORURfSU4pO1xuICAgIH1cbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAgICB0aGlzLmFwcGx5U2lnbkluT3B0aW9ucyhvcHRpb25zIHx8IHt9LCBwcm92aWRlcik7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBsaW5rV2l0aFBvcHVwKGF1dGguY3VycmVudFVzZXIsIHByb3ZpZGVyKTtcbiAgICBjb25zdCBhdXRoQ3JlZGVudGlhbCA9XG4gICAgICBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQodXNlckNyZWRlbnRpYWwpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpbmtXaXRoTWljcm9zb2Z0KFxuICAgIG9wdGlvbnM/OiBMaW5rV2l0aE9BdXRoT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxMaW5rUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgT0F1dGhQcm92aWRlcihQcm92aWRlcklkLk1JQ1JPU09GVCk7XG4gICAgdGhpcy5hcHBseVNpZ25Jbk9wdGlvbnMob3B0aW9ucyB8fCB7fSwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgbGlua1dpdGhQb3B1cChhdXRoLmN1cnJlbnRVc2VyLCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPSBPQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIGF1dGhDcmVkZW50aWFsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBsaW5rV2l0aFBob25lTnVtYmVyKFxuICAgIF9vcHRpb25zOiBMaW5rV2l0aFBob25lTnVtYmVyT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxMaW5rUmVzdWx0PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgb24gd2ViLicpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpbmtXaXRoUGxheUdhbWVzKCk6IFByb21pc2U8TGlua1Jlc3VsdD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGF2YWlsYWJsZSBvbiB3ZWIuJyk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgbGlua1dpdGhUd2l0dGVyKFxuICAgIG9wdGlvbnM/OiBMaW5rV2l0aE9BdXRoT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxMaW5rUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBpZiAoIWF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgVHdpdHRlckF1dGhQcm92aWRlcigpO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoUG9wdXAoYXV0aC5jdXJyZW50VXNlciwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID1cbiAgICAgIFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQodXNlckNyZWRlbnRpYWwpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpbmtXaXRoWWFob28oXG4gICAgb3B0aW9ucz86IExpbmtXaXRoT0F1dGhPcHRpb25zLFxuICApOiBQcm9taXNlPExpbmtSZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGlmICghYXV0aC5jdXJyZW50VXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKEZpcmViYXNlQXV0aGVudGljYXRpb25XZWIuRVJST1JfTk9fVVNFUl9TSUdORURfSU4pO1xuICAgIH1cbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBPQXV0aFByb3ZpZGVyKFByb3ZpZGVySWQuWUFIT08pO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGxpbmtXaXRoUG9wdXAoYXV0aC5jdXJyZW50VXNlciwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gT0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBhdXRoQ3JlZGVudGlhbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2VuZEVtYWlsVmVyaWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbmRFbWFpbFZlcmlmaWNhdGlvbihjdXJyZW50VXNlcik7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChcbiAgICBvcHRpb25zOiBTZW5kUGFzc3dvcmRSZXNldEVtYWlsT3B0aW9ucyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICByZXR1cm4gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhdXRoLCBvcHRpb25zLmVtYWlsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZW5kU2lnbkluTGlua1RvRW1haWwoXG4gICAgb3B0aW9uczogU2VuZFNpZ25JbkxpbmtUb0VtYWlsT3B0aW9ucyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICByZXR1cm4gc2VuZFNpZ25JbkxpbmtUb0VtYWlsKFxuICAgICAgYXV0aCxcbiAgICAgIG9wdGlvbnMuZW1haWwsXG4gICAgICBvcHRpb25zLmFjdGlvbkNvZGVTZXR0aW5ncyxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNldExhbmd1YWdlQ29kZShvcHRpb25zOiBTZXRMYW5ndWFnZUNvZGVPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBhdXRoLmxhbmd1YWdlQ29kZSA9IG9wdGlvbnMubGFuZ3VhZ2VDb2RlO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNpZ25JbkFub255bW91c2x5KCk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbkFub255bW91c2x5KGF1dGgpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgbnVsbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2V0VGVuYW50SWQob3B0aW9uczogU2V0VGVuYW50SWRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBhdXRoLnRlbmFudElkID0gb3B0aW9ucy50ZW5hbnRJZDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduSW5XaXRoQXBwbGUob3B0aW9ucz86IFNpZ25Jbk9wdGlvbnMpOiBQcm9taXNlPFNpZ25JblJlc3VsdD4ge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoUHJvdmlkZXJJZC5BUFBMRSk7XG4gICAgdGhpcy5hcHBseVNpZ25Jbk9wdGlvbnMob3B0aW9ucyB8fCB7fSwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gT0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBhdXRoQ3JlZGVudGlhbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2lnbkluV2l0aEN1c3RvbVRva2VuKFxuICAgIG9wdGlvbnM6IFNpZ25JbldpdGhDdXN0b21Ub2tlbk9wdGlvbnMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhDdXN0b21Ub2tlbihhdXRoLCBvcHRpb25zLnRva2VuKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIG51bGwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKFxuICAgIG9wdGlvbnM6IFNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTaWduSW5SZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gICAgICBhdXRoLFxuICAgICAgb3B0aW9ucy5lbWFpbCxcbiAgICAgIG9wdGlvbnMucGFzc3dvcmQsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIG51bGwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNpZ25JbldpdGhFbWFpbExpbmsoXG4gICAgb3B0aW9uczogU2lnbkluV2l0aEVtYWlsTGlua09wdGlvbnMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbExpbmsoXG4gICAgICBhdXRoLFxuICAgICAgb3B0aW9ucy5lbWFpbCxcbiAgICAgIG9wdGlvbnMuZW1haWxMaW5rLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduSW5XaXRoRmFjZWJvb2soXG4gICAgb3B0aW9ucz86IFNpZ25Jbk9wdGlvbnMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAgICB0aGlzLmFwcGx5U2lnbkluT3B0aW9ucyhvcHRpb25zIHx8IHt9LCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPVxuICAgICAgRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQodXNlckNyZWRlbnRpYWwpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNpZ25JbldpdGhHaXRodWIoXG4gICAgb3B0aW9ucz86IFNpZ25Jbk9wdGlvbnMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgR2l0aHViQXV0aFByb3ZpZGVyKCk7XG4gICAgdGhpcy5hcHBseVNpZ25Jbk9wdGlvbnMob3B0aW9ucyB8fCB7fSwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID1cbiAgICAgIEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBhdXRoQ3JlZGVudGlhbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2lnbkluV2l0aEdvb2dsZShcbiAgICBvcHRpb25zPzogU2lnbkluT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTaWduSW5SZXN1bHQ+IHtcbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAgICB0aGlzLmFwcGx5U2lnbkluT3B0aW9ucyhvcHRpb25zIHx8IHt9LCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPVxuICAgICAgR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIGF1dGhDcmVkZW50aWFsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduSW5XaXRoTWljcm9zb2Z0KFxuICAgIG9wdGlvbnM/OiBTaWduSW5PcHRpb25zLFxuICApOiBQcm9taXNlPFNpZ25JblJlc3VsdD4ge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoUHJvdmlkZXJJZC5NSUNST1NPRlQpO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAgICBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IE9BdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQodXNlckNyZWRlbnRpYWwpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNpZ25JblJlc3VsdCh1c2VyQ3JlZGVudGlhbCwgYXV0aENyZWRlbnRpYWwpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNpZ25JbldpdGhQaG9uZU51bWJlcihcbiAgICBfb3B0aW9uczogU2lnbkluV2l0aFBob25lTnVtYmVyT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxTaWduSW5SZXN1bHQ+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCBvbiB3ZWIuJyk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2lnbkluV2l0aFBsYXlHYW1lcygpOiBQcm9taXNlPFNpZ25JblJlc3VsdD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGF2YWlsYWJsZSBvbiB3ZWIuJyk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2lnbkluV2l0aFR3aXR0ZXIoXG4gICAgb3B0aW9ucz86IFNpZ25Jbk9wdGlvbnMsXG4gICk6IFByb21pc2U8U2lnbkluUmVzdWx0PiB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgVHdpdHRlckF1dGhQcm92aWRlcigpO1xuICAgIHRoaXMuYXBwbHlTaWduSW5PcHRpb25zKG9wdGlvbnMgfHwge30sIHByb3ZpZGVyKTtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAgICBjb25zdCBhdXRoQ3JlZGVudGlhbCA9XG4gICAgICBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTaWduSW5SZXN1bHQodXNlckNyZWRlbnRpYWwsIGF1dGhDcmVkZW50aWFsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduSW5XaXRoWWFob28ob3B0aW9ucz86IFNpZ25Jbk9wdGlvbnMpOiBQcm9taXNlPFNpZ25JblJlc3VsdD4ge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoUHJvdmlkZXJJZC5ZQUhPTyk7XG4gICAgdGhpcy5hcHBseVNpZ25Jbk9wdGlvbnMob3B0aW9ucyB8fCB7fSwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gT0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbkluUmVzdWx0KHVzZXJDcmVkZW50aWFsLCBhdXRoQ3JlZGVudGlhbCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2lnbk91dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGF3YWl0IGF1dGguc2lnbk91dCgpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHVubGluayhvcHRpb25zOiBVbmxpbmtPcHRpb25zKTogUHJvbWlzZTxVbmxpbmtSZXN1bHQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGlmICghYXV0aC5jdXJyZW50VXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKEZpcmViYXNlQXV0aGVudGljYXRpb25XZWIuRVJST1JfTk9fVVNFUl9TSUdORURfSU4pO1xuICAgIH1cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdW5saW5rKGF1dGguY3VycmVudFVzZXIsIG9wdGlvbnMucHJvdmlkZXJJZCk7XG4gICAgY29uc3QgdXNlclJlc3VsdCA9IHRoaXMuY3JlYXRlVXNlclJlc3VsdCh1c2VyKTtcbiAgICBjb25zdCByZXN1bHQ6IFVubGlua1Jlc3VsdCA9IHtcbiAgICAgIHVzZXI6IHVzZXJSZXN1bHQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHVwZGF0ZUVtYWlsKG9wdGlvbnM6IFVwZGF0ZUVtYWlsT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGaXJlYmFzZUF1dGhlbnRpY2F0aW9uV2ViLkVSUk9SX05PX1VTRVJfU0lHTkVEX0lOKTtcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZUVtYWlsKGN1cnJlbnRVc2VyLCBvcHRpb25zLm5ld0VtYWlsKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVQYXNzd29yZChvcHRpb25zOiBVcGRhdGVQYXNzd29yZE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRmlyZWJhc2VBdXRoZW50aWNhdGlvbldlYi5FUlJPUl9OT19VU0VSX1NJR05FRF9JTik7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVQYXNzd29yZChjdXJyZW50VXNlciwgb3B0aW9ucy5uZXdQYXNzd29yZCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdXNlQXBwTGFuZ3VhZ2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBhdXRoLnVzZURldmljZUxhbmd1YWdlKCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdXNlRW11bGF0b3Iob3B0aW9uczogVXNlRW11bGF0b3JPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTtcbiAgICBjb25zdCBwb3J0ID0gb3B0aW9ucy5wb3J0IHx8IDkwOTk7XG4gICAgY29ubmVjdEF1dGhFbXVsYXRvcihhdXRoLCBgJHtvcHRpb25zLmhvc3R9OiR7cG9ydH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQXV0aFN0YXRlQ2hhbmdlKHVzZXI6IEZpcmViYXNlVXNlciB8IG51bGwpOiB2b2lkIHtcbiAgICBjb25zdCB1c2VyUmVzdWx0ID0gdGhpcy5jcmVhdGVVc2VyUmVzdWx0KHVzZXIpO1xuICAgIGNvbnN0IGNoYW5nZTogQXV0aFN0YXRlQ2hhbmdlID0ge1xuICAgICAgdXNlcjogdXNlclJlc3VsdCxcbiAgICB9O1xuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCdhdXRoU3RhdGVDaGFuZ2UnLCBjaGFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseVNpZ25Jbk9wdGlvbnMoXG4gICAgb3B0aW9uczogU2lnbkluT3B0aW9ucyxcbiAgICBwcm92aWRlcjogT0F1dGhQcm92aWRlciB8IEdvb2dsZUF1dGhQcm92aWRlciB8IEZhY2Vib29rQXV0aFByb3ZpZGVyLFxuICApIHtcbiAgICBpZiAob3B0aW9ucy5jdXN0b21QYXJhbWV0ZXJzKSB7XG4gICAgICBjb25zdCBjdXN0b21QYXJhbWV0ZXJzOiBDdXN0b21QYXJhbWV0ZXJzID0ge307XG4gICAgICBvcHRpb25zLmN1c3RvbVBhcmFtZXRlcnMubWFwKHBhcmFtZXRlciA9PiB7XG4gICAgICAgIGN1c3RvbVBhcmFtZXRlcnNbcGFyYW1ldGVyLmtleV0gPSBwYXJhbWV0ZXIudmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHByb3ZpZGVyLnNldEN1c3RvbVBhcmFtZXRlcnMoY3VzdG9tUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNjb3Blcykge1xuICAgICAgZm9yIChjb25zdCBzY29wZSBvZiBvcHRpb25zLnNjb3Blcykge1xuICAgICAgICBwcm92aWRlci5hZGRTY29wZShzY29wZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTaWduSW5SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IEZpcmViYXNlVXNlckNyZWRlbnRpYWwsXG4gICAgYXV0aENyZWRlbnRpYWw6IEZpcmViYXNlQXV0aENyZWRlbnRpYWwgfCBudWxsLFxuICApOiBTaWduSW5SZXN1bHQge1xuICAgIGNvbnN0IHVzZXJSZXN1bHQgPSB0aGlzLmNyZWF0ZVVzZXJSZXN1bHQodXNlckNyZWRlbnRpYWwudXNlcik7XG4gICAgY29uc3QgY3JlZGVudGlhbFJlc3VsdCA9IHRoaXMuY3JlYXRlQ3JlZGVudGlhbFJlc3VsdChhdXRoQ3JlZGVudGlhbCk7XG4gICAgY29uc3QgYWRkaXRpb25hbFVzZXJJbmZvUmVzdWx0ID1cbiAgICAgIHRoaXMuY3JlYXRlQWRkaXRpb25hbFVzZXJJbmZvUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICBjb25zdCByZXN1bHQ6IFNpZ25JblJlc3VsdCA9IHtcbiAgICAgIHVzZXI6IHVzZXJSZXN1bHQsXG4gICAgICBjcmVkZW50aWFsOiBjcmVkZW50aWFsUmVzdWx0LFxuICAgICAgYWRkaXRpb25hbFVzZXJJbmZvOiBhZGRpdGlvbmFsVXNlckluZm9SZXN1bHQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDcmVkZW50aWFsUmVzdWx0KFxuICAgIGNyZWRlbnRpYWw6IEZpcmViYXNlQXV0aENyZWRlbnRpYWwgfCBudWxsLFxuICApOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghY3JlZGVudGlhbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdDogQXV0aENyZWRlbnRpYWwgPSB7XG4gICAgICBwcm92aWRlcklkOiBjcmVkZW50aWFsLnByb3ZpZGVySWQsXG4gICAgfTtcbiAgICBpZiAoY3JlZGVudGlhbCBpbnN0YW5jZW9mIE9BdXRoQ3JlZGVudGlhbCkge1xuICAgICAgcmVzdWx0LmFjY2Vzc1Rva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAgICAgIHJlc3VsdC5pZFRva2VuID0gY3JlZGVudGlhbC5pZFRva2VuO1xuICAgICAgcmVzdWx0LnNlY3JldCA9IGNyZWRlbnRpYWwuc2VjcmV0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVVc2VyUmVzdWx0KHVzZXI6IEZpcmViYXNlVXNlciB8IG51bGwpOiBVc2VyIHwgbnVsbCB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0OiBVc2VyID0ge1xuICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGVtYWlsVmVyaWZpZWQ6IHVzZXIuZW1haWxWZXJpZmllZCxcbiAgICAgIGlzQW5vbnltb3VzOiB1c2VyLmlzQW5vbnltb3VzLFxuICAgICAgcGhvbmVOdW1iZXI6IHVzZXIucGhvbmVOdW1iZXIsXG4gICAgICBwaG90b1VybDogdXNlci5waG90b1VSTCxcbiAgICAgIHByb3ZpZGVySWQ6IHVzZXIucHJvdmlkZXJJZCxcbiAgICAgIHRlbmFudElkOiB1c2VyLnRlbmFudElkLFxuICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFkZGl0aW9uYWxVc2VySW5mb1Jlc3VsdChcbiAgICBjcmVkZW50aWFsOiBGaXJlYmFzZVVzZXJDcmVkZW50aWFsLFxuICApOiBBZGRpdGlvbmFsVXNlckluZm8gfCBudWxsIHtcbiAgICBjb25zdCBhZGRpdGlvbmFsVXNlckluZm8gPSBnZXRBZGRpdGlvbmFsVXNlckluZm8oY3JlZGVudGlhbCk7XG4gICAgaWYgKCFhZGRpdGlvbmFsVXNlckluZm8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGlzTmV3VXNlciwgcHJvZmlsZSwgcHJvdmlkZXJJZCwgdXNlcm5hbWUgfSA9IGFkZGl0aW9uYWxVc2VySW5mbztcbiAgICBjb25zdCByZXN1bHQ6IEFkZGl0aW9uYWxVc2VySW5mbyA9IHtcbiAgICAgIGlzTmV3VXNlcixcbiAgICB9O1xuICAgIGlmIChwcm92aWRlcklkICE9PSBudWxsKSB7XG4gICAgICByZXN1bHQucHJvdmlkZXJJZCA9IHByb3ZpZGVySWQ7XG4gICAgfVxuICAgIGlmIChwcm9maWxlICE9PSBudWxsKSB7XG4gICAgICByZXN1bHQucHJvZmlsZSA9IHByb2ZpbGUgYXMgeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH07XG4gICAgfVxuICAgIGlmICh1c2VybmFtZSAhPT0gbnVsbCAmJiB1c2VybmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHQudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZpcmViYXNlQXV0aGVudGljYXRpb25XZWIiLCJnZXRBdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidXNlciIsImhhbmRsZUF1dGhTdGF0ZUNoYW5nZSIsIm9wdGlvbnMiLCJhdXRoIiwiYXBwbHlBY3Rpb25Db2RlIiwib29iQ29kZSIsImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyQ3JlZGVudGlhbCIsInRoaXMiLCJjcmVhdGVTaWduSW5SZXN1bHQiLCJjb25maXJtUGFzc3dvcmRSZXNldCIsIm5ld1Bhc3N3b3JkIiwidXNlclJlc3VsdCIsImNyZWF0ZVVzZXJSZXN1bHQiLCJjdXJyZW50VXNlciIsInJlc3VsdCIsIkVycm9yIiwiRVJST1JfTk9fVVNFUl9TSUdORURfSU4iLCJnZXRJZFRva2VuIiwiZm9yY2VSZWZyZXNoIiwiaWRUb2tlbiIsInRva2VuIiwidGVuYW50SWQiLCJpc1NpZ25JbldpdGhFbWFpbExpbmsiLCJlbWFpbExpbmsiLCJwcm92aWRlciIsIk9BdXRoUHJvdmlkZXIiLCJQcm92aWRlcklkIiwiYXBwbHlTaWduSW5PcHRpb25zIiwibGlua1dpdGhQb3B1cCIsImF1dGhDcmVkZW50aWFsIiwiRW1haWxBdXRoUHJvdmlkZXIiLCJsaW5rV2l0aENyZWRlbnRpYWwiLCJGYWNlYm9va0F1dGhQcm92aWRlciIsIkdpdGh1YkF1dGhQcm92aWRlciIsIkdvb2dsZUF1dGhQcm92aWRlciIsIl9vcHRpb25zIiwiVHdpdHRlckF1dGhQcm92aWRlciIsInNlbmRFbWFpbFZlcmlmaWNhdGlvbiIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJzZW5kU2lnbkluTGlua1RvRW1haWwiLCJhY3Rpb25Db2RlU2V0dGluZ3MiLCJsYW5ndWFnZUNvZGUiLCJzaWduSW5Bbm9ueW1vdXNseSIsInNpZ25JbldpdGhQb3B1cCIsInNpZ25JbldpdGhDdXN0b21Ub2tlbiIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbkluV2l0aEVtYWlsTGluayIsInNpZ25PdXQiLCJ1bmxpbmsiLCJwcm92aWRlcklkIiwidXBkYXRlRW1haWwiLCJuZXdFbWFpbCIsInVwZGF0ZVBhc3N3b3JkIiwidXNlRGV2aWNlTGFuZ3VhZ2UiLCJwb3J0IiwiY29ubmVjdEF1dGhFbXVsYXRvciIsImhvc3QiLCJjaGFuZ2UiLCJub3RpZnlMaXN0ZW5lcnMiLCJjdXN0b21QYXJhbWV0ZXJzIiwibWFwIiwicGFyYW1ldGVyIiwia2V5IiwidmFsdWUiLCJzZXRDdXN0b21QYXJhbWV0ZXJzIiwic2NvcGVzIiwic2NvcGUiLCJhZGRTY29wZSIsImNyZWRlbnRpYWwiLCJjcmVhdGVDcmVkZW50aWFsUmVzdWx0IiwiYWRkaXRpb25hbFVzZXJJbmZvIiwiY3JlYXRlQWRkaXRpb25hbFVzZXJJbmZvUmVzdWx0IiwiT0F1dGhDcmVkZW50aWFsIiwiYWNjZXNzVG9rZW4iLCJzZWNyZXQiLCJkaXNwbGF5TmFtZSIsImVtYWlsVmVyaWZpZWQiLCJpc0Fub255bW91cyIsInBob25lTnVtYmVyIiwicGhvdG9VcmwiLCJwaG90b1VSTCIsInVpZCIsImdldEFkZGl0aW9uYWxVc2VySW5mbyIsImlzTmV3VXNlciIsInByb2ZpbGUiLCJ1c2VybmFtZSIsInVuZGVmaW5lZCIsIldlYlBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=